{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <meta charset="utf-8"/>
	<title>test</title>
	<style type="text/css">
	ul {
		float:left;
		list-style:none;
		margin:0;
		padding:0;
	}
    table{
        text-align: center;
        border: 1px solid grey;
        font-size: 10px;
    }
    tr{
        border-bottom: 1px solid gray;
    }
    col{
        border-right: 1px solid gray;
        width: 12.5%;
    }
    .in_wrap{
        float: left;
    }
    .stock_wrap{

        border: 1px solid black;
    }
    #map{
        height:400px;
    }
	</style>
</head>
<body>
	<div id="wrap" class="container">
        <div id="table_wrap" class="in_wrap col-lg-6 col-md-6 col-sm-12">
            <div id="s_wrap" class="stock_wrap row">
                <table id="in_seoul" class="stock_table">
                    <colgroup>
                        <col>
                        <col>
                        <col>
                        <col>
                        <col>
                        <col>
                        <col>
                        <col>
                    </colgroup>
                </table>
            </div>
            <div id="ns_wrap" class="stock_wrap row">
                <table id="not_seoul" class="stock_table">
                    <colgroup>
                        <col>
                        <col>
                        <col>
                        <col>
                        <col>
                        <col>
                        <col>
                        <col>
                    </colgroup>
                </table>
            </div>
        </div>
        <div id="map" class="in_wrap col-lg-6 col-md-6 col-sm-12"></div>
    </div>    
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=f3d2075fccd2daa2b4324fc9e39457e6&libraries=services"></script>
    <script type="text/javascript">
        var seoul = {{ in_seoul|safe }}; // 수도권 지점 정보 받아오기
        var not_seoul = {{ not_seoul|safe }}; // 비수도권 지점 정보 받아오기
    </script>
    <script type="text/javascript">
        // data = 지점 정보, table = 자료를 입력할 테이블
        var drawTable = function (data, table) {
            t = 0; // 지점 수를 체크하기 위한 변수
            // 8개 열이 들어가는 행 생성을 위한 for문
            for(i=0; i<(data.length/8); i++){
                var row1= $("<tr />"); // 지점명 행(th)
                var row2= $("<tr />"); // 재고 행(td)
                $(table).append(row1);
                $(table).append(row2);
                // 8개 열에 각 지점, 재고 정보 입력 위한 for문
                for(j=0; j<8; j++){
                    // t가 지점 수 보다 클 경우 for문 종료
                    if (t > (data.length-1)) break;
                    row1.append($("<th>" + data[t].fields.place_name + "</th>"));
                    row2.append($("<td>" + data[t].fields.stock + "</td>"));
                    t++;
                }
            }
        }
        $(function() {
            drawTable(seoul, "#in_seoul");
            drawTable(not_seoul, "#not_seoul");
        });
    </script>
    <script type="text/javascript" src="{% static 'js/map.js' %}"></script>
</body>
</html>